# 第6章 schema设计与管理
## 选择优化的数据类型
1、更小的通常更好。一般来说，应尽量使用能够正确存储和表示数据的最小数据类型，因为他们占用的磁盘、内存和CPU缓存的空间更少，并且处理时需要的CPU周期也更少
2、简单为好。简单数据类型的操作通常需要更少的CPU周期。
3、尽量避免存储NULL。如果查询中包含可为NULL的列，对MySQL来说更难优化。

MySQL可以为整数类型指定宽度，例如，INT(11)。这对大多数应用毫无意义：他不会限制值的合法范围，只规定了MySQL的一些交互工具用来显示字符的个数。
## 字符串类型
### varchar和char类型
下面是关于这两种类型的比较：
#### varchar
- varchar用于存储可变长度的字符串，他比char更节省空间，因为他仅使用必要的空间
- varchar需要**额外使用1或2字节记录字符串的长度**：如果列的最大长度小于或等于255字节，则只使用1字节表示，否则使用2字节。
- varchar节省了存储空间，所以对性能也有帮助。但是由于行是可变长度的，在**更新**时可能会增长，这可能会导致额外的工作。
#### char
- char是固定长度的，当存储char值时，mysql删除所有尾随空格。如果需要进行比较，值会用空格填充。
- char适合存储非常短的字符串，或者适用于**所有值的长度几乎都相同**的情况。

下面两幅图片演示了char类型实际字符数：

![插入char类型的代码](assets/chapter6/char1.png "图1")

![查询展示的实际字符数](assets/chapter6/char2.png "图2")

下面两幅图片则演示了varchar类型实际字符数：

![插入varchar类型的代码](assets/chapter6/varchar1.png "图3")

![查询时的实际字符数](assets/chapter6/varchar2.png "图4")

